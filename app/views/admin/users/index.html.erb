<% provide(:title, 'Administration: All users') %>
<h1>Administration: All users</h1>

  <table class="table table-striped table-bordered">
    <tr>
      <th>Name</th>
      <th>Email</th>
      <th>Department</th>
      <th>User Type</th>
      <th></th>

    </tr>

    <% @users.each do |user| %>
    	<tr>
        <td> <%= link_to user.name, admin_user_path(user) %> </td>
        <td> <%= user.email %> </td>
        <td> <%= Department.where(id: user.department_id).first.name %> </td>
        <td> <%= UserType.where(id: user.type_id).first.name %> </td>
        <td>
          <div id="command_container">
            <ul>
              <li id="user_<%= user.id %>">
                <%= link_to 'Edit', edit_admin_user_path(user), class: "btn btn-link" %>
                   <% if !current_user?(user) %>
  	                <%= link_to 'Delete', [:admin, user], :confirm => 'Are you sure?', :method => :delete , class: "btn btn-link" %>
   	               <% end %>
              </li>
            </ul>
          </div>
        </td>
    	</tr>
    <% end %>

  </table>

<%= link_to "Add New User", new_admin_user_path, class: "btn btn-small btn-primary" %>
<!--to replace this with table view like in Issues Index-->
<%= will_paginate %>